2026-02-01 11:28:32.085 +02:00 [INF] Starting application... {}
2026-02-01 11:28:36.594 +02:00 [INF] Outbox database initialized {}
2026-02-01 11:28:36.898 +02:00 [INF] Outbox Processor started - Polling every 1s, Batch size: 50, Parallel: true {"SourceContext":"TransactionAggregation.Infrastructure.BackgroundServices.OutboxProcessorService"}
2026-02-01 11:28:37.443 +02:00 [INF] Now listening on: http://localhost:5118 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-02-01 11:28:37.446 +02:00 [INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-02-01 11:28:37.446 +02:00 [INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-02-01 11:28:37.447 +02:00 [INF] Content root path: /Users/fiskani/Documents/Interview/Capitec/TransactionAggregationService/Presentation/TransactionAggregation.Api {"SourceContext":"Microsoft.Hosting.Lifetime"}
2026-02-01 11:28:39.193 +02:00 [INF] Request: GET /swagger/index.html | CorrelationId: 4895796b-97dc-41d2-9d92-708de62a94be {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:40.066 +02:00 [INF] Response: 200 | Duration: 860ms | CorrelationId: 4895796b-97dc-41d2-9d92-708de62a94be {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:40.099 +02:00 [WRN] Unable to configure browser refresh script injection on the response. This may have been caused by the response's Content-Encoding: '["br"]'. Consider disabling response compression. {"EventId":{"Id":4,"Name":"ResponseCompressionDetected"},"SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware","RequestId":"0HNJ1EH3SD1AR:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:40.479 +02:00 [INF] Request: GET /swagger/v1/swagger.json | CorrelationId: bc13f174-487e-4013-9dc3-0ebeb3b62cdf {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:40.840 +02:00 [INF] Response: 200 | Duration: 358ms | CorrelationId: bc13f174-487e-4013-9dc3-0ebeb3b62cdf {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:58.494 +02:00 [INF] Request: GET /api/customers/1002/transactions | CorrelationId: 58ce563f-e76a-4666-97eb-56b1e09a1d17 {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:58.505 +02:00 [WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:58.585 +02:00 [INF] [CustomerApi] Cache miss for 'customer_1002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:58.634 +02:00 [INF] Start processing HTTP request GET http://localhost:5001/api/customers/1002 {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.LogicalHandler","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002"]}
2026-02-01 11:28:58.646 +02:00 [INF] Sending HTTP request GET http://localhost:5001/api/customers/1002 {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.ClientHandler","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002"]}
2026-02-01 11:28:59.707 +02:00 [INF] Received HTTP response headers after 1053.6695ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.ClientHandler","HttpMethod":"GET","Uri":"http://localhost:5001/api/customers/1002","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002"]}
2026-02-01 11:28:59.713 +02:00 [INF] End processing HTTP request after 1085.4326ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.LogicalHandler","HttpMethod":"GET","Uri":"http://localhost:5001/api/customers/1002","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002"]}
2026-02-01 11:28:59.840 +02:00 [INF] [CustomerApi] API call completed in 1128ms (Response size: ~0.18KB) {"SourceContext":"TransactionAggregation.Infrastructure.Clients.CustomerApiClient","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:59.845 +02:00 [INF] [CustomerApi] Fetched and cached 'customer_1002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:59.849 +02:00 [INF] [CustomerApi] Cache miss for 'customer_accounts_1002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:59.853 +02:00 [INF] Start processing HTTP request GET http://localhost:5001/api/customers/1002/accounts {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.LogicalHandler","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002/accounts"]}
2026-02-01 11:28:59.853 +02:00 [INF] Sending HTTP request GET http://localhost:5001/api/customers/1002/accounts {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.ClientHandler","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002/accounts"]}
2026-02-01 11:28:59.900 +02:00 [INF] Received HTTP response headers after 42.6438ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.ClientHandler","HttpMethod":"GET","Uri":"http://localhost:5001/api/customers/1002/accounts","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002/accounts"]}
2026-02-01 11:28:59.902 +02:00 [INF] End processing HTTP request after 48.5668ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.LogicalHandler","HttpMethod":"GET","Uri":"http://localhost:5001/api/customers/1002/accounts","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002/accounts"]}
2026-02-01 11:28:59.929 +02:00 [INF] [CustomerApi] API call completed in 50ms (Response size: ~0.17KB) {"SourceContext":"TransactionAggregation.Infrastructure.Clients.CustomerApiClient","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:59.930 +02:00 [INF] [CustomerApi] Fetched and cached 'customer_accounts_1002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:59.938 +02:00 [INF] [TransactionApi] Cache miss for 'transactions_10002_null_null_1_50' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:28:59.942 +02:00 [INF] Start processing HTTP request GET http://localhost:5002/api/transactions?* {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.ITransactionApiClient.LogicalHandler","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5002/api/transactions?*"]}
2026-02-01 11:28:59.943 +02:00 [INF] Sending HTTP request GET http://localhost:5002/api/transactions?* {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.ITransactionApiClient.ClientHandler","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5002/api/transactions?*"]}
2026-02-01 11:29:00.861 +02:00 [INF] Received HTTP response headers after 915.956ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.ITransactionApiClient.ClientHandler","HttpMethod":"GET","Uri":"http://localhost:5002/api/transactions?*","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5002/api/transactions?*"]}
2026-02-01 11:29:00.862 +02:00 [INF] End processing HTTP request after 919.3592ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.ITransactionApiClient.LogicalHandler","HttpMethod":"GET","Uri":"http://localhost:5002/api/transactions?*","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5002/api/transactions?*"]}
2026-02-01 11:29:00.887 +02:00 [INF] [TransactionApi] API call completed in 921ms (Response size: ~0.64KB) {"SourceContext":"TransactionAggregation.Infrastructure.Clients.TransactionApiClient","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:00.889 +02:00 [INF] [TransactionApi] Fetched and cached 'transactions_10002_null_null_1_50' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:00.893 +02:00 [INF] [AccountApi] Cache miss for 'account_balance_10002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:00.896 +02:00 [INF] Start processing HTTP request GET http://localhost:5003/api/accounts/10002/balance {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IAccountApiClient.LogicalHandler","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5003/api/accounts/10002/balance"]}
2026-02-01 11:29:00.896 +02:00 [INF] Sending HTTP request GET http://localhost:5003/api/accounts/10002/balance {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IAccountApiClient.ClientHandler","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5003/api/accounts/10002/balance"]}
2026-02-01 11:29:01.597 +02:00 [INF] Received HTTP response headers after 700.8778ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IAccountApiClient.ClientHandler","HttpMethod":"GET","Uri":"http://localhost:5003/api/accounts/10002/balance","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5003/api/accounts/10002/balance"]}
2026-02-01 11:29:01.598 +02:00 [INF] End processing HTTP request after 701.9227ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IAccountApiClient.LogicalHandler","HttpMethod":"GET","Uri":"http://localhost:5003/api/accounts/10002/balance","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5003/api/accounts/10002/balance"]}
2026-02-01 11:29:01.607 +02:00 [INF] [AccountApi] API call completed in 703ms (Response size: ~0.13KB) {"SourceContext":"TransactionAggregation.Infrastructure.Clients.AccountApiClient","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:01.608 +02:00 [INF] [AccountApi] Fetched and cached 'account_balance_10002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:01.614 +02:00 [INF] Publishing 2 transactions to Fraud Engine outbox for customer 1002 {"SourceContext":"TransactionAggregation.Infrastructure.Outbox.OutboxPublisher","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:02.027 +02:00 [INF] Successfully published 2 transactions to outbox for customer 1002 {"SourceContext":"TransactionAggregation.Infrastructure.Outbox.OutboxPublisher","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:02.092 +02:00 [INF] Response: 200 | Duration: 3595ms | CorrelationId: 58ce563f-e76a-4666-97eb-56b1e09a1d17 {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000003","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:02.904 +02:00 [INF] Start processing HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:02.904 +02:00 [INF] Start processing HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:02.905 +02:00 [INF] Sending HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:02.905 +02:00 [INF] Sending HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:05.994 +02:00 [INF] Received HTTP response headers after 3088.7002ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:05.994 +02:00 [INF] End processing HTTP request after 3090.3226ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:06.020 +02:00 [INF] Event 674c887a-83b0-4b57-88b6-33f1e727e355 successfully sent to Fraud Engine {"SourceContext":"TransactionAggregation.Infrastructure.Clients.FraudEngineApiClient"}
2026-02-01 11:29:06.023 +02:00 [INF] Successfully processed outbox message: EventId=674c887a-83b0-4b57-88b6-33f1e727e355 {"SourceContext":"TransactionAggregation.Infrastructure.BackgroundServices.OutboxProcessorService"}
2026-02-01 11:29:06.119 +02:00 [INF] Received HTTP response headers after 3213.5349ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:06.119 +02:00 [INF] End processing HTTP request after 3214.9662ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:06.124 +02:00 [INF] Event 4d14d27e-4759-4dd0-a727-8006f68fac02 successfully sent to Fraud Engine {"SourceContext":"TransactionAggregation.Infrastructure.Clients.FraudEngineApiClient"}
2026-02-01 11:29:06.124 +02:00 [INF] Successfully processed outbox message: EventId=4d14d27e-4759-4dd0-a727-8006f68fac02 {"SourceContext":"TransactionAggregation.Infrastructure.BackgroundServices.OutboxProcessorService"}
2026-02-01 11:29:58.974 +02:00 [INF] Request: GET /api/customers/1002/transactions | CorrelationId: 60c28fb1-f059-49fb-841f-e3354947e065 {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.006 +02:00 [INF] Publishing 2 transactions to Fraud Engine outbox for customer 1002 {"SourceContext":"TransactionAggregation.Infrastructure.Outbox.OutboxPublisher","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.054 +02:00 [INF] Start processing HTTP request GET http://localhost:5001/api/customers/1002 {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.LogicalHandler","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002"]}
2026-02-01 11:29:59.054 +02:00 [INF] Start processing HTTP request GET http://localhost:5003/api/accounts/10002/balance {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IAccountApiClient.LogicalHandler","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5003/api/accounts/10002/balance"]}
2026-02-01 11:29:59.055 +02:00 [INF] Sending HTTP request GET http://localhost:5003/api/accounts/10002/balance {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IAccountApiClient.ClientHandler","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5003/api/accounts/10002/balance"]}
2026-02-01 11:29:59.054 +02:00 [INF] Sending HTTP request GET http://localhost:5001/api/customers/1002 {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.ClientHandler","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002"]}
2026-02-01 11:29:59.054 +02:00 [INF] Start processing HTTP request GET http://localhost:5002/api/transactions?* {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.ITransactionApiClient.LogicalHandler","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5002/api/transactions?*"]}
2026-02-01 11:29:59.054 +02:00 [INF] Start processing HTTP request GET http://localhost:5001/api/customers/1002/accounts {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.LogicalHandler","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002/accounts"]}
2026-02-01 11:29:59.063 +02:00 [INF] Successfully published 2 transactions to outbox for customer 1002 {"SourceContext":"TransactionAggregation.Infrastructure.Outbox.OutboxPublisher","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.069 +02:00 [INF] Sending HTTP request GET http://localhost:5001/api/customers/1002/accounts {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.ClientHandler","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002/accounts"]}
2026-02-01 11:29:59.068 +02:00 [INF] Sending HTTP request GET http://localhost:5002/api/transactions?* {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.ITransactionApiClient.ClientHandler","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5002/api/transactions?*"]}
2026-02-01 11:29:59.245 +02:00 [INF] Received HTTP response headers after 171.2039ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.ITransactionApiClient.ClientHandler","HttpMethod":"GET","Uri":"http://localhost:5002/api/transactions?*","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5002/api/transactions?*"]}
2026-02-01 11:29:59.245 +02:00 [INF] Received HTTP response headers after 172.0856ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.ClientHandler","HttpMethod":"GET","Uri":"http://localhost:5001/api/customers/1002/accounts","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002/accounts"]}
2026-02-01 11:29:59.244 +02:00 [INF] Received HTTP response headers after 188.7909ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IAccountApiClient.ClientHandler","HttpMethod":"GET","Uri":"http://localhost:5003/api/accounts/10002/balance","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5003/api/accounts/10002/balance"]}
2026-02-01 11:29:59.258 +02:00 [INF] End processing HTTP request after 204.2616ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.LogicalHandler","HttpMethod":"GET","Uri":"http://localhost:5001/api/customers/1002/accounts","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002/accounts"]}
2026-02-01 11:29:59.257 +02:00 [INF] End processing HTTP request after 203.3376ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.ITransactionApiClient.LogicalHandler","HttpMethod":"GET","Uri":"http://localhost:5002/api/transactions?*","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5002/api/transactions?*"]}
2026-02-01 11:29:59.265 +02:00 [INF] Response: 200 | Duration: 286ms | CorrelationId: 60c28fb1-f059-49fb-841f-e3354947e065 {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.266 +02:00 [INF] End processing HTTP request after 210.6688ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IAccountApiClient.LogicalHandler","HttpMethod":"GET","Uri":"http://localhost:5003/api/accounts/10002/balance","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5003/api/accounts/10002/balance"]}
2026-02-01 11:29:59.245 +02:00 [INF] Received HTTP response headers after 188.0122ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.ClientHandler","HttpMethod":"GET","Uri":"http://localhost:5001/api/customers/1002","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002"]}
2026-02-01 11:29:59.315 +02:00 [INF] [AccountApi] API call completed in 260ms (Response size: ~0.13KB) {"SourceContext":"TransactionAggregation.Infrastructure.Clients.AccountApiClient","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.312 +02:00 [INF] [TransactionApi] API call completed in 235ms (Response size: ~0.64KB) {"SourceContext":"TransactionAggregation.Infrastructure.Clients.TransactionApiClient","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.315 +02:00 [INF] End processing HTTP request after 261.0582ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.ICustomerApiClient.LogicalHandler","HttpMethod":"GET","Uri":"http://localhost:5001/api/customers/1002","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR","Scope":["HTTP GET http://localhost:5001/api/customers/1002"]}
2026-02-01 11:29:59.350 +02:00 [INF] [CustomerApi] API call completed in 291ms (Response size: ~0.18KB) {"SourceContext":"TransactionAggregation.Infrastructure.Clients.CustomerApiClient","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.352 +02:00 [INF] [CustomerApi] Fetched and cached 'customer_1002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.365 +02:00 [INF] [TransactionApi] Fetched and cached 'transactions_10002_null_null_1_50' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.315 +02:00 [INF] [CustomerApi] API call completed in 261ms (Response size: ~0.17KB) {"SourceContext":"TransactionAggregation.Infrastructure.Clients.CustomerApiClient","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.365 +02:00 [INF] [CustomerApi] Fetched and cached 'customer_accounts_1002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.351 +02:00 [INF] [AccountApi] Fetched and cached 'account_balance_10002' {"SourceContext":"TransactionAggregation.Infrastructure.Caching.CacheService","RequestId":"0HNJ1EH3SD1AR:00000004","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:29:59.415 +02:00 [INF] Start processing HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:59.416 +02:00 [INF] Sending HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:59.415 +02:00 [INF] Start processing HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:59.441 +02:00 [INF] Sending HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:59.651 +02:00 [INF] Received HTTP response headers after 234.8192ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:59.653 +02:00 [INF] End processing HTTP request after 238.3217ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:29:59.654 +02:00 [INF] Event 8a5b8d44-bbfe-4c0c-8494-ae1ab13bc4e7 successfully sent to Fraud Engine {"SourceContext":"TransactionAggregation.Infrastructure.Clients.FraudEngineApiClient"}
2026-02-01 11:29:59.655 +02:00 [INF] Successfully processed outbox message: EventId=8a5b8d44-bbfe-4c0c-8494-ae1ab13bc4e7 {"SourceContext":"TransactionAggregation.Infrastructure.BackgroundServices.OutboxProcessorService"}
2026-02-01 11:30:02.098 +02:00 [INF] Received HTTP response headers after 2656.9937ms - 500 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:02.099 +02:00 [INF] End processing HTTP request after 2683.723ms - 500 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:02.116 +02:00 [WRN] [FraudEngine] Retry attempt 1/3 after 2.0s {"SourceContext":"TransactionAggregation.Infrastructure.Clients.FraudEngineApiClient"}
2026-02-01 11:30:04.117 +02:00 [INF] Start processing HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:04.118 +02:00 [INF] Sending HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:04.197 +02:00 [INF] Received HTTP response headers after 78.5226ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:04.197 +02:00 [INF] End processing HTTP request after 79.6537ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:04.197 +02:00 [INF] Event 9f7e2c55-0620-4b83-8a9b-26f5743df2bc successfully sent to Fraud Engine {"SourceContext":"TransactionAggregation.Infrastructure.Clients.FraudEngineApiClient"}
2026-02-01 11:30:04.197 +02:00 [INF] Successfully processed outbox message: EventId=9f7e2c55-0620-4b83-8a9b-26f5743df2bc {"SourceContext":"TransactionAggregation.Infrastructure.BackgroundServices.OutboxProcessorService"}
2026-02-01 11:30:09.511 +02:00 [INF] Request: GET /api/customers/1002/transactions | CorrelationId: f4219f63-c0be-4cae-b943-095f2d921b6a {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000005","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:30:09.524 +02:00 [INF] Publishing 2 transactions to Fraud Engine outbox for customer 1002 {"SourceContext":"TransactionAggregation.Infrastructure.Outbox.OutboxPublisher","RequestId":"0HNJ1EH3SD1AR:00000005","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:30:09.531 +02:00 [INF] Successfully published 2 transactions to outbox for customer 1002 {"SourceContext":"TransactionAggregation.Infrastructure.Outbox.OutboxPublisher","RequestId":"0HNJ1EH3SD1AR:00000005","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:30:09.532 +02:00 [INF] Response: 200 | Duration: 20ms | CorrelationId: f4219f63-c0be-4cae-b943-095f2d921b6a {"SourceContext":"TransactionAggregation.Api.Middleware.RequestLoggingMiddleware","RequestId":"0HNJ1EH3SD1AR:00000005","RequestPath":"/api/customers/1002/transactions","ConnectionId":"0HNJ1EH3SD1AR"}
2026-02-01 11:30:10.234 +02:00 [INF] Start processing HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:10.234 +02:00 [INF] Start processing HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:10.235 +02:00 [INF] Sending HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:10.235 +02:00 [INF] Sending HTTP request POST http://localhost:5160/api/fraud/analyze {"EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:10.349 +02:00 [INF] Received HTTP response headers after 114.5591ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:10.350 +02:00 [INF] End processing HTTP request after 115.5836ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:10.350 +02:00 [INF] Event fdcd0f1e-13e8-4ad4-86dd-368e3b5383ac successfully sent to Fraud Engine {"SourceContext":"TransactionAggregation.Infrastructure.Clients.FraudEngineApiClient"}
2026-02-01 11:30:10.350 +02:00 [INF] Successfully processed outbox message: EventId=fdcd0f1e-13e8-4ad4-86dd-368e3b5383ac {"SourceContext":"TransactionAggregation.Infrastructure.BackgroundServices.OutboxProcessorService"}
2026-02-01 11:30:10.469 +02:00 [INF] Received HTTP response headers after 232.5999ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.ClientHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:10.469 +02:00 [INF] End processing HTTP request after 235.2183ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IFraudEngineApiClient.LogicalHandler","HttpMethod":"POST","Uri":"http://localhost:5160/api/fraud/analyze","Scope":["HTTP POST http://localhost:5160/api/fraud/analyze"]}
2026-02-01 11:30:10.470 +02:00 [INF] Event 8da741cd-54c5-4a98-a07e-1906f6929b4d successfully sent to Fraud Engine {"SourceContext":"TransactionAggregation.Infrastructure.Clients.FraudEngineApiClient"}
2026-02-01 11:30:10.470 +02:00 [INF] Successfully processed outbox message: EventId=8da741cd-54c5-4a98-a07e-1906f6929b4d {"SourceContext":"TransactionAggregation.Infrastructure.BackgroundServices.OutboxProcessorService"}
