{
 "Serilog": {
  "Using": ["Serilog.Sinks.Console", "Serilog.Sinks.File"],
  "MinimumLevel": {
   "Default": "Information",
   "Override": {
    "Microsoft.AspNetCore": "Warning",
    "Microsoft.EntityFrameworkCore": "Warning"
   }
  },
  "WriteTo": [
   {
    "Name": "Console",
    "Args": {
     "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
    }
   },
   {
    "Name": "File",
    "Args": {
     "path": "logs/transaction-aggregation-api-.txt",
     "rollingInterval": "Day",
     "retainedFileCountLimit": 7,
     "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
    }
   }
  ],
  "Enrich": ["FromLogContext"]
 },
 "AllowedHosts": "*",
 "MockProviders": {
  "CustomerServiceUrl": "http://localhost:5001",
  "TransactionServiceUrl": "http://localhost:5002",
  "AccountServiceUrl": "http://localhost:5003",

  "TimeoutSeconds": 5,
  "RetryCount": 2,
  "CircuitBreakerFailureThreshold": 3,
  "CircuitBreakerDurationSeconds": 30,

  "StaleThresholdMinutes": 0.5,
  "CacheExpirationMinutes": 5,
  "MaxStaleAgeMinutes": 30,
  "SlowApiThresholdMs": 3000
 },
 "ConnectionStrings": {
  "DefaultConnection": "Data Source=transactionaggregation.db"
 },
 "OutboxProcessor": {
  "PollingIntervalSeconds": 1,
  "BatchSize": 50,
  "MaxRetryAttempts": 10,
  "EnableParallelProcessing": true,
  "MaxDegreeOfParallelism": 10
 },
 "FraudEngineApiClient": {
  "BaseUrl": "http://localhost:5160",
  "TimeoutSeconds": 10,
  "RetryAttempts": 3,
  "RetryDelaySeconds": 2,
  "CircuitBreakerFailureThreshold": 5,
  "CircuitBreakerDurationSeconds": 30
 },
  "DocumentApiClient": {
  "BaseUrl": "http://localhost:5085",
  "TimeoutSeconds": 10,
  "RetryAttempts": 3,
  "RetryDelaySeconds": 2,
  "CircuitBreakerFailureThreshold": 5,
  "CircuitBreakerDurationSeconds": 30
 }
}
